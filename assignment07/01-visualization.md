# ส่งงาน Data Visualization.

นี่คือผลลัพท์ dashboard ตอนมี sensor เเค่ 2 ตัว
<img title="a title" alt="visual2" src="./vi2.png">

นี่คือผลลัพท์ dashboard ตอนมี sensor เพื่อนๆ ทั้งหมด
<img  src="./vi10.png">

นี่คือผลลัพท์ multi-line chart virsualization
<img  src="./vi12.png">

นำ data ที่ได้มานำเสนอให้เพื่อนๆ ในห้องดู ผ่านการทำ datavisualization
<img  src="./vi8.jpg">
<img  src="./vi9.jpg">


ขั้นตอนในการทำ map virsualization
<img title="a title" alt="visual1" src="./vi1.png">


line visualization

card visualization

guage visualization

line chart with area chart



เเต่ละเเบบก็ทำให้เรา มอง เเละวิเคราะข้อมูลได้ในมุมมองเเบบต่างๆ หลายมุมมากขขึ้น

<img  src="./vi4.png">
จากรูป นี่คือการ setting map visualization


<img  src="./vi5.png">
ใส่ rule ให้เเต่ละ sen

<img  src="./vi6.png">
ในเเต่ละ rule ให้ใส่ name ของ sensor


<img  src="./vi7.png">
ต่อไปให้ focus ที่ menu หัวข้อ query ตรง option ตอนเเรกมันเป็น json อะไรยาวๆ เยอะๆ ให้ลบออก เเล้ว extract เเต่ sensor name ตามในรูป

```js
{{sensor_name}}
```
เป็น meta programming ของ ภาษา java script มันคือการเเตกเอาตัวที่ใน object มาลงในตัวเเปร

```js
let data = {spa1: 1, spa2: 2, spa3: 3}
let {spa1} = data ## ผมเรียกตรงนี้ว่า เเตก obj
console.log(spa1)
## output 1
```

เเต่ใน grafana เราเเตก sensor name มาใช้ เพราะว่าข้อมูลชิดนี้มี variance ที่ต่ำสุด ค่อนข้างเเน่นอน เเละสามารถเอา code ยำใส่ grafana ได้เลย โดยที่ไม่ต้องรอรับ sensor พร้อมกัน 10 ตัว

# visualization ให้เพื่อนๆ เเละครูดูตอนสอบ

<img  src="./vi7.png">



<img  src="./vi11.png">


# Data Visualization

## ข้อมูลที่แสดงในส่วนของ Visualization ใน Grafana

### ข้อมูลเซนเซอร์

1. **อุณหภูมิ (Temperature):**
   - แสดงค่าอุณหภูมิที่อ่านจากเซนเซอร์ BMP280
   - รูปแบบการแสดงผล: กราฟเส้น (Line Chart) หรือกราฟแท่ง (Bar Chart)
   - วัตถุประสงค์: เพื่อแสดงการเปลี่ยนแปลงของอุณหภูมิในช่วงเวลาต่างๆ

2. **ความดัน (Pressure):**
   - แสดงค่าแรงดันที่อ่านจากเซนเซอร์ BMP280
   - รูปแบบการแสดงผล: กราฟเส้นหรือกราฟแท่ง
   - วัตถุประสงค์: เพื่อให้เห็นการเปลี่ยนแปลงของแรงดัน

3. **ความชื้น (Humidity):**
   - แสดงค่าความชื้นที่อ่านจากเซนเซอร์ SHT4x
   - รูปแบบการแสดงผล: กราฟเส้นหรือกราฟแท่ง

4. **ความสว่าง (Luminosity):**
   - แสดงค่าความสว่างที่อ่านจากเซนเซอร์อนาล็อก
   - รูปแบบการแสดงผล: กราฟเส้นหรือกราฟแท่ง

### ข้อมูลการทำงานของเซนเซอร์

1. **สถานะการเชื่อมต่อ (Connection Status):**
   - แสดงสถานะการเชื่อมต่อ WiFi และ MQTT
   - รูปแบบการแสดงผล: กราฟหรือไอคอนที่เปลี่ยนสีตามสถานะการเชื่อมต่อ (สีเขียวสำหรับเชื่อมต่อสำเร็จ, สีแดงสำหรับเชื่อมต่อไม่สำเร็จ)

### ข้อมูลข้อผิดพลาด (Error Information)

1. **ข้อผิดพลาดของเซนเซอร์ (Sensor Errors):**
   - แสดงข้อมูลข้อผิดพลาดที่เกิดขึ้น เช่น จำนวนข้อผิดพลาดที่เกิดขึ้นในช่วงเวลาต่างๆ
   - รูปแบบการแสดงผล: ข้อความข้อผิดพลาดในกราฟหรือบาร์

### ข้อมูลเชิงเวลา (Time Series Data)

1. **กราฟเวลาสำหรับเซนเซอร์ (Time Series Graphs):**
   - แสดงข้อมูลเซนเซอร์ในรูปแบบกราฟเวลาที่แสดงการเปลี่ยนแปลงของค่าอุณหภูมิ, ความดัน, ความชื้น และความสว่างตามเวลา

### ข้อมูลสถิติ (Statistical Information)

1. **ค่าความเฉลี่ย (Averages):**
   - แสดงค่าเฉลี่ยของข้อมูลเซนเซอร์ในช่วงเวลาที่กำหนด

2. **ค่าต่ำสุดและสูงสุด (Min/Max Values):**
   - แสดงค่าต่ำสุดและสูงสุดที่บันทึกได้ในช่วงเวลาที่กำหนด

### ตัวอย่างการแสดงข้อมูลใน Grafana

- **กราฟเส้นสำหรับอุณหภูมิ:** แสดงการเปลี่ยนแปลงของอุณหภูมิในช่วงเวลาต่างๆ
- **กราฟแท่งสำหรับความดัน:** แสดงค่าแรงดันในช่วงเวลาต่างๆ
- **กราฟเส้นสำหรับความชื้น:** แสดงการเปลี่ยนแปลงของความชื้นในช่วงเวลาต่างๆ
- **กราฟแท่งสำหรับความสว่าง:** แสดงค่าความสว่างในช่วงเวลาต่างๆ
- **ไอคอนสถานะการเชื่อมต่อ:** เปลี่ยนสีตามสถานะการเชื่อมต่อ WiFi และ MQTT
